---
import { SITE } from "@/config";

export interface Props {
    homepage?: boolean;
    title: string;
    description: string;
    canonical?: URL;
    type: string;
    ogImage: string;
}

const {
    homepage = false,
    title,
    description,
    canonical,
    type,
    ogImage,
} = Astro.props;
---

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link
        rel="preload"
        href="/fonts/Lora-Regular.woff2"
        crossorigin
        as="font"
        type="font/woff2"
    />
    <link
        rel="preload"
        href="/fonts/Lora-Italic.woff2"
        crossorigin
        as="font"
        type="font/woff2"
    />
    <link
        rel="preload"
        href="/fonts/Lora-Bold.woff2"
        crossorigin
        as="font"
        type="font/woff2"
    />

    <link rel="canonical" href={canonical} />
    <link
        rel="alternate"
        type="application/rss+xml"
        title={SITE.title}
        href={`${SITE.url}/rss.xml`}
    />
    {
        homepage ? (
            <title>{title}</title>
        ) : (
            <title>
                {title} • {SITE.title}
            </title>
        )
    }
    {
        homepage ? (
            <meta name="title" content={title} />
        ) : (
            <meta name="title" content={`${title} • ${SITE.title}`} />
        )
    }
    <meta name="description" content={description} />
    <meta property="og:type" content={type} />
    <meta property="og:url" content={canonical} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <link rel="icon" type="image/png" href="/favicon.png" />

    <meta name="format-detection" content="telephone=no" />

    <meta
        http-equiv="Content-Security-Policy"
        content="
            default-src 'self';
            img-src https://*;
            media-src https://untitled.urbansheep.com/;
            frame-src youtube.com https://www.youtube.com;
            style-src 'self' 'unsafe-inline';
            connect-src 'self' https://untitled.urbansheep.com/;
        "
    />
</head>
